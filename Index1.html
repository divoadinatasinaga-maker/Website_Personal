<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SIP Kabupaten Klaten — Modern Glass</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <!-- AOS (Animate On Scroll) -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

  <style>
    :root{
      --blue-1:#0A74DA;
      --blue-2:#1E90FF;
      --glass-bg:rgba(255,255,255,0.12);
      --glass-border:rgba(255,255,255,0.18);
      --card-radius:14px;
      --transition:300ms cubic-bezier(.2,.9,.3,1);
      --text:#ffffff;
      --muted:rgba(255,255,255,0.85);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:#000;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }

    section[id] { scroll-margin-top: 110px; }

    /* Background Video */
    .video-bg{
      position:fixed;
      inset:0;
      z-index:-5;
      overflow:hidden;
      pointer-events:none;
    }
    .video-bg video{
      width:100%;
      height:100%;
      object-fit:cover;
      filter:brightness(.6);
      transform:scale(1.02);
    }

    .overlay-dark{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.55);
      z-index:-3;
    }

    /* Header */
    header{
      position:sticky;
      top:0;
      z-index:40;
      backdrop-filter:blur(6px);
      background:linear-gradient(90deg,var(--blue-1),var(--blue-2));
      padding:28px 28px;
      transition:var(--transition);
      display:flex;
      justify-content:center;
    }
    header.shrink{ padding:12px 20px; }

    .header-inner{
      max-width:1180px;
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
    }

    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      min-width:220px;
    }
    .brand img{
      width:68px;
      height:auto;
      border-radius:8px;
    }
    .brand h1{
      margin:0;
      font-size:20px;
      font-weight:700;
      line-height:1.1;
    }
    .brand .sub{
      display:block;
      font-weight:400;
      font-size:13px;
      opacity:.95;
      margin-top:2px;
    }

    nav{
      display:flex;
      gap:22px;
      align-items:center;
    }
    nav a{
      text-decoration:none;
      color:#fff;
      font-weight:600;
      font-size:15px;
      position:relative;
      opacity:.95;
      transition:var(--transition);
    }
    nav a:hover{ opacity:1; transform:translateY(-1px); }
    nav a::after{
      content:"";
      position:absolute;
      left:0;
      bottom:-8px;
      width:0%;
      height:2px;
      background:rgba(255,255,255,.85);
      transition:var(--transition);
    }
    nav a:hover::after{ width:100%; }

    /* Hero */
    .hero{
      max-width:1180px;
      margin:28px auto 22px;
      padding:28px;
      display:grid;
      grid-template-columns:1fr 360px;
      gap:22px;
    }

    .hero-left{
      background:rgba(255,255,255,0.03);
      padding:26px;
      border-radius:14px;
      border:1px solid var(--glass-border);
      backdrop-filter:blur(10px);
    }

    .kicker{
      font-size:14px;
      font-weight:600;
      margin-bottom:8px;
      opacity:.9;
    }

    .hero-left h2{
      margin:0;
      font-size:28px;
      line-height:1.2;
    }

    .hero-left p{
      margin-top:14px;
      opacity:.9;
      font-weight:300;
    }

    .hero-cta{ margin-top:18px; }

    .btn-primary{
      display:inline-block;
      text-decoration:none;
      background:linear-gradient(90deg,var(--blue-2),var(--blue-1));
      padding:12px 18px;
      border-radius:999px;
      font-weight:700;
      color:#fff;
      transition:var(--transition);
      border:1px solid rgba(255,255,255,.15);
    }
    .btn-primary:hover{
      transform:translateY(-2px);
      box-shadow:0 14px 28px rgba(0,0,0,.35);
    }

    .hero-right{
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .stat-card{
      background:var(--glass-bg);
      padding:14px;
      border:1px solid var(--glass-border);
      border-radius:12px;
      backdrop-filter:blur(6px);
    }
    .stat-card p{
      margin:0;
      font-weight:700;
    }
    .stat-card span{
      display:block;
      margin-top:6px;
      opacity:.85;
      font-weight:300;
    }

    /* Section */
    .section{
      max-width:1180px;
      margin:18px auto;
      padding:10px 20px;
    }
    .section h3{
      margin:10px 6px 14px;
      font-size:20px;
    }
    .section-desc{
      margin:0 6px 18px;
      opacity:.88;
      font-weight:300;
      line-height:1.6;
      max-width:880px;
    }

    /* KHUSUS SECTION PETA: judul besar & di tengah */
    .section-peta h3{
      font-size:32px;
      text-align:center;
      margin-top:16px;
      margin-bottom:14px;
    }

    /* MAP SECTION (2 kolom) */
    .map-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:22px;
    }
    .map-card{
      background:rgba(255,255,255,0.05);
      border:1px solid var(--glass-border);
      border-radius:14px;
      backdrop-filter:blur(8px);
      padding:14px;
      transition:var(--transition);
      position:relative;
      z-index:1;
    }
    .map-card:hover{
      transform:translateY(-6px);
      box-shadow:0 18px 40px rgba(0,0,0,0.45);
    }

    /* TOPBAR: judul di tengah, tombol di kanan */
    .map-topbar{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:6px 6px 12px;
    }

    .map-title{
      margin:0;
      font-size:16px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .map-title i{ opacity:.95; }

    /* Tombol ikon perbesar */
    .map-btn{
      position:absolute;
      right:8px;
      top:50%;
      transform:translateY(-50%);
      color:#fff;
      padding:0;
      width:40px;
      height:40px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.08);
      transition:var(--transition);
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }
    .map-btn i{ font-size:16px; }
    .map-btn:hover{
      background:rgba(255,255,255,.14);
      box-shadow:0 6px 14px rgba(0,0,0,.35);
    }

    .map-frame{
      border-radius:12px;
      overflow:hidden;
      height:460px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.25);
    }
    .map-frame iframe{
      width:100%;
      height:100%;
      border:0;
      display:block;
    }

    /* ===== CAPTION (NARASI DI BAWAH PETA) ===== */
    .map-caption{
      margin:10px 6px 0;
      font-size:13px;
      line-height:1.65;
      font-weight:300;
      opacity:.92;
      text-align:left;
    }
    .map-caption b{
      font-weight:700;
      opacity:1;
    }

    /* TIPS / NOTE */
    .map-tip{
      margin:8px 6px 0;
      opacity:.78;
      font-size:12.5px;
      font-weight:300;
      line-height:1.5;
    }

    /* FULLSCREEN MODE (peta 2D/3D) */
    body.map-full-open{ overflow:hidden; }

    .map-card.is-full{
      position:fixed;
      inset:80px 20px 24px;
      max-width:none;
      width:auto;
      height:auto;
      z-index:1000;
      box-shadow:0 24px 60px rgba(0,0,0,.7);
    }
    .map-card.is-full .map-frame{
      height:calc(100vh - 80px - 24px - 160px); /* sisakan ruang caption */
    }

    .map-backdrop{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.75);
      z-index:900;
      opacity:0;
      pointer-events:none;
      transition:var(--transition);
    }
    .map-backdrop.visible{
      opacity:1;
      pointer-events:auto;
    }

    /* News cards */
    .berita-grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:22px;
    }

    .card{
      background:rgba(255,255,255,0.05);
      padding:14px;
      border-radius:14px;
      border:1px solid var(--glass-border);
      backdrop-filter:blur(8px);
      min-height:430px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      transition:var(--transition);
    }
    .card:hover{
      transform:translateY(-10px);
      box-shadow:0 18px 40px rgba(0,0,0,0.45);
    }
    .card h4{
      margin:14px 4px 18px;
      font-size:16px;
      line-height:1.3;
    }

    .media{
      width:100%;
      height:240px;
      border-radius:10px;
      object-fit:cover;
      border:1px solid rgba(255,255,255,.08);
    }

    .read-more{
      display:inline-block;
      padding:10px 16px;
      border-radius:999px;
      background:linear-gradient(90deg,var(--blue-1),var(--blue-2));
      color:#fff;
      text-decoration:none;
      font-weight:700;
      transition:var(--transition);
      border:1px solid rgba(255,255,255,.15);
      width:max-content;
    }
    .read-more:hover{
      transform:translateY(-2px);
      box-shadow:0 14px 28px rgba(0,0,0,.35);
    }

    /* Back to top */
    .back-top{
      position:fixed;
      right:20px;
      bottom:28px;
      width:52px;
      height:52px;
      border-radius:50%;
      background:linear-gradient(90deg,var(--blue-2),var(--blue-1));
      display:grid;
      place-items:center;
      color:#fff;
      opacity:0;
      transform:translateY(20px);
      transition:var(--transition);
      cursor:pointer;
      z-index:50;
      border:none;
      outline:none;
      pointer-events:none;
    }
    .back-top.visible{
      opacity:1;
      transform:translateY(0);
      pointer-events:auto;
    }

    /* Footer */
    footer{
      margin-top:36px;
      background:linear-gradient(90deg,var(--blue-1),var(--blue-2));
      padding:26px 18px;
      color:#fff;
    }
    .footer-inner{
      max-width:1180px;
      margin:auto;
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    .footer-content{
      display:grid;
      grid-template-columns:minmax(0,1.1fr) minmax(0,1.2fr);
      gap:18px;
      align-items:stretch;
    }

    .footer-info h4{
      margin:0 0 6px;
      font-size:16px;
    }
    .footer-info p{
      margin:2px 0;
      font-size:13px;
      opacity:.95;
    }

    .footer-map{
      position:relative;
      cursor:pointer;
    }
    .footer-map iframe{
      width:100%;
      height:125px;
      border:0;
      border-radius:12px;
      box-shadow:0 10px 24px rgba(0,0,0,0.45);
      pointer-events:none;
    }
    .footer-map-label{
      position:absolute;
      left:12px;
      bottom:10px;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(0,0,0,0.65);
      font-size:11px;
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .footer-map-label i{ font-size:11px; }

    .footer-bottom{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:20px;
      flex-wrap:wrap;
      border-top:1px solid rgba(255,255,255,0.25);
      padding-top:10px;
      font-size:13px;
    }

    .footer-social{
      display:flex;
      gap:10px;
    }
    .footer-social a{
      width:36px;
      height:36px;
      border-radius:999px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:rgba(255,255,255,0.15);
      text-decoration:none;
      color:#fff;
      transition:var(--transition);
    }
    .footer-social a:hover{
      transform:translateY(-2px);
      background:rgba(255,255,255,0.22);
    }

    /* OVERLAY MAP BESAR */
    .map-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.85);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:1200;
    }
    .map-overlay.active{ display:flex; }
    .map-overlay-inner{
      position:relative;
      width:90%;
      max-width:960px;
      height:70vh;
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 30px 80px rgba(0,0,0,0.9);
      background:#000;
    }
    .map-overlay-inner iframe{
      width:100%;
      height:100%;
      border:0;
      display:block;
    }
    .map-overlay-close{
      position:absolute;
      top:10px;
      right:10px;
      width:38px;
      height:38px;
      border-radius:999px;
      border:none;
      background:rgba(0,0,0,0.7);
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition:var(--transition);
      z-index:2;
    }
    .map-overlay-close:hover{
      background:rgba(0,0,0,0.9);
      transform:translateY(-1px);
    }

    /* Responsive */
    @media (max-width:1100px){
      .hero{ grid-template-columns:1fr; }
      .berita-grid{ grid-template-columns:repeat(2,1fr); }
      .map-card.is-full{ inset:70px 12px 16px; }
      .map-card.is-full .map-frame{
        height:calc(100vh - 70px - 16px - 180px);
      }
    }
    @media (max-width:750px){
      .footer-content{ grid-template-columns:1fr; }
      .footer-map iframe{ height:140px; }
      .map-grid{ grid-template-columns:1fr; }
      .map-frame{ height:420px; }
    }
    @media (max-width:650px){
      nav{ display:none; }
      .berita-grid{ grid-template-columns:1fr; }
      header{ padding:18px 16px; }
      .hero{ padding:16px; }
      .hero-left{ padding:18px; }
      .map-overlay-inner{ height:70vh; }
    }
  </style>
</head>

<body>
  <div class="video-bg">
    <video autoplay muted loop playsinline>
      <source src="videoplayback.mp4" type="video/mp4" />
    </video>
  </div>
  <div class="overlay-dark"></div>
  <div id="mapBackdrop" class="map-backdrop"></div>

  <!-- HEADER -->
  <header id="site-header">
    <div class="header-inner">
      <div class="brand">
        <img src="LOGO_KABUPATEN_KLATEN.png" alt="Logo Kabupaten Klaten" />
        <h1>
          Sistem Informasi Pertanahan<br />
          <span class="sub">Kabupaten Klaten, Jawa Tengah</span>
        </h1>
      </div>

      <nav>
        <a href="#">Home</a>
        <a href="Profil.html">Profile</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-left" data-aos="fade-up">
      <div class="kicker">Sistem Informasi Pertanahan Kabupaten Klaten</div>
      <h2>Informasi Pertanahan Terpadu untuk Mendukung Pembangunan Kabupaten Klaten</h2>
      <p>
        Kabupaten Klaten merupakan wilayah strategis di Jawa Tengah yang berada di antara Kota Surakarta dan
        Daerah Istimewa Yogyakarta. Dengan 26 kecamatan dan lebih dari 400 desa/kelurahan, Klaten terus
        mendorong transparansi dan percepatan layanan pertanahan melalui penyediaan data spasial, informasi
        aset desa, serta publikasi resmi untuk mendukung perencanaan pembangunan yang akurat.
      </p>
      <div class="hero-cta">
        <a class="btn-primary" href="#peta">Lihat Peta</a>
        <span style="display:inline-block;width:10px;"></span>
        <a class="btn-primary" href="#berita">Lihat Berita</a>
      </div>
    </div>

    <aside class="hero-right" data-aos="fade-left">
      <div class="stat-card">
        <p>Jumlah Desa &amp; Kelurahan</p>
        <span>401 Desa/Kelurahan</span>
      </div>
      <div class="stat-card">
        <p>Jumlah Kecamatan</p>
        <span>26 Kecamatan</span>
      </div>
      <div class="stat-card">
        <p>Perkiraan Penduduk</p>
        <span>&plusmn; 1.2 Juta Jiwa</span>
      </div>
    </aside>
  </section>

  <!-- PETA -->
  <section class="section section-peta" id="peta">
    <h3>Peta Interaktif</h3>

    <div class="map-grid">
      <!-- PETA 2D -->
      <div class="map-card" data-aos="fade-up">
        <div class="map-topbar">
          <h4 class="map-title">
            <i class="fa-solid fa-map"></i> PETA 2D PENGGUNAAN TANAH
          </h4>
          <button class="map-btn map-toggle" type="button" aria-label="Perbesar peta 2D">
            <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
          </button>
        </div>

        <div class="map-frame">
          <iframe
            src="Peta_2D_Klaten/index.html#11/-7.6737/110.6229"
            title="Peta 2D Penggunaan Tanah Kabupaten Klaten"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>

        <!-- CAPTION 2D -->
        <p class="map-caption">
          <b>Peta 2D</b> menampilkan data penggunaan tanah secara datar (top-down) sehingga lebih mudah membaca
          persebaran lahan, batas wilayah, dan objek spasial secara jelas. Tampilan ini cocok untuk pengecekan lokasi,
          perbandingan area, serta pemantauan perubahan penggunaan lahan karena fokus pada ketelitian posisi dan
          keterbacaan informasi.
        </p>
      </div>

      <!-- PETA 3D -->
      <div class="map-card" data-aos="fade-up" data-aos-delay="100">
        <div class="map-topbar">
          <h4 class="map-title">
            <i class="fa-solid fa-cube"></i> PETA 3D PENGGUNAAN TANAH
          </h4>
          <button class="map-btn map-toggle" type="button" aria-label="Perbesar peta 3D">
            <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
          </button>
        </div>

        <div class="map-frame">
          <iframe
            src="3D/klaten.html"
            title="Peta 3D Penggunaan Tanah Kabupaten Klaten"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>

        <!-- CAPTION 3D -->
        <p class="map-caption">
          <b>Peta 3D</b> menampilkan wilayah dengan perspektif kedalaman sehingga lebih realistis untuk memahami bentuk permukaan,
          kemiringan, dan konteks ruang. Peta ini bermanfaat untuk analisis dan perencanaan pembangunan, memperkirakan dampak,
          serta penyajian informasi yang lebih intuitif kepada masyarakat.
        </p>
      </div>
    </div>
  </section>

  <!-- BERITA -->
  <section class="section" id="berita">
    <h3>Berita Terbaru</h3>

    <div class="berita-grid">
      <article class="card">
        <img class="media" src="Klaten.jpeg" alt="Kabupaten Klaten" />
        <h4>Sejarah Singkat Kabupaten Klaten</h4>
        <a class="read-more" href="berita1.html">Selengkapnya →</a>
      </article>

      <article class="card">
        <img class="media" src="udara.jpeg" alt="Pemandangan Udara Kabupaten Klaten" />
        <h4>Pemandangan Udara Kabupaten Klaten</h4>
        <a class="read-more" href="Berita2.html">Selengkapnya →</a>
      </article>

      <article class="card">
        <img class="media" src="berita3.jpeg" alt="Pemetaan Aset Desa" />
        <h4>Pemetaan Aset Desa Berbasis Web</h4>
        <a class="read-more" href="Berita3.html">Selengkapnya →</a>
      </article>

      <article class="card">
        <img class="media" src="berita4.png" alt="Layanan Pertanahan Kabupaten Klaten" />
        <h4>Layanan Pertanahan Kabupaten Klaten</h4>
        <a class="read-more" href="Berita4.html">Selengkapnya →</a>
      </article>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-inner">
      <div class="footer-content">
        <div class="footer-info">
          <h4>Kantor Pertanahan Kabupaten Klaten</h4>
          <p>Jl. Veteran No.88, Barenglor, Bareng Lor</p>
          <p>Kec. Klaten Utara, Kabupaten Klaten, Jawa Tengah 57438</p>
          <p>Telepon: (0272) 321172</p>
        </div>

        <div class="footer-map" id="footerMapTrigger">
          <iframe
            src="https://www.google.com/maps?q=Kantor+Pertanahan+Kabupaten+Klaten+Jl.+Veteran+No.88+Barenglor+Klaten+Jawa+Tengah&output=embed"
            title="Lokasi Kantor Pertanahan Kabupaten Klaten"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
          <div class="footer-map-label">
            <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
            <span>Klik untuk memperbesar peta</span>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; Kabupaten Klaten — Sistem Informasi Pertanahan</p>
        <div class="footer-social">
          <a href="https://instagram.com/kantahkabklaten" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="https://facebook.com/kantahkabklaten" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
          <a href="https://twitter.com/kantahkabklaten" aria-label="X/Twitter"><i class="fab fa-x-twitter"></i></a>
        </div>
      </div>
    </div>
  </footer>

  <!-- OVERLAY GOOGLE MAPS BESAR -->
  <div class="map-overlay" id="mapOverlay">
    <div class="map-overlay-inner">
      <button class="map-overlay-close" type="button" aria-label="Tutup peta besar" id="closeOverlayBtn">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <iframe
        src="https://www.google.com/maps?q=Kantor+Pertanahan+Kabupaten+Klaten+Jl.+Veteran+No.88+Barenglor+Klaten+Jawa+Tengah&output=embed"
        title="Lokasi Kantor Pertanahan Kabupaten Klaten (Fullscreen)">
      </iframe>
    </div>
  </div>

  <!-- Back to top -->
  <button id="backTop" class="back-top" type="button" aria-label="Kembali ke atas">▲</button>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Inisialisasi AOS
    if (window.AOS) {
      AOS.init({ duration: 700, once: true });
    }

    const header = document.getElementById('site-header');
    const back = document.getElementById('backTop');
    const backdrop = document.getElementById('mapBackdrop');

    // Scroll behaviour: header shrink + tombol back-to-top
    window.addEventListener('scroll', () => {
      if (window.scrollY > 80) header.classList.add('shrink');
      else header.classList.remove('shrink');

      if (window.scrollY > 300) back.classList.add('visible');
      else back.classList.remove('visible');
    });

    back.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Toggle fullscreen untuk map-card (peta 2D/3D)
    const toggleButtons = document.querySelectorAll('.map-toggle');
    const iconMax = '<i class="fa-solid fa-up-right-and-down-left-from-center"></i>';
    const iconMin = '<i class="fa-solid fa-down-left-and-up-right-to-center"></i>';

    toggleButtons.forEach(btn => {
      btn.innerHTML = iconMax;

      btn.addEventListener('click', () => {
        const card = btn.closest('.map-card');
        const isNowFull = !card.classList.contains('is-full');

        // tutup semua dulu
        document.querySelectorAll('.map-card.is-full').forEach(c => {
          c.classList.remove('is-full');
          const b = c.querySelector('.map-toggle');
          if (b) b.innerHTML = iconMax;
        });

        if (isNowFull) {
          card.classList.add('is-full');
          btn.innerHTML = iconMin;
          document.body.classList.add('map-full-open');
          backdrop.classList.add('visible');
        } else {
          card.classList.remove('is-full');
          btn.innerHTML = iconMax;
          document.body.classList.remove('map-full-open');
          backdrop.classList.remove('visible');
        }
      });
    });

    // Klik backdrop menutup fullscreen peta 2D/3D
    backdrop.addEventListener('click', () => {
      document.querySelectorAll('.map-card.is-full').forEach(c => {
        c.classList.remove('is-full');
        const b = c.querySelector('.map-toggle');
        if (b) b.innerHTML = iconMax;
      });
      document.body.classList.remove('map-full-open');
      backdrop.classList.remove('visible');
    });

    // FOOTER MAP OVERLAY
    const footerMapTrigger = document.getElementById('footerMapTrigger');
    const mapOverlay = document.getElementById('mapOverlay');
    const closeOverlayBtn = document.getElementById('closeOverlayBtn');

    if (footerMapTrigger && mapOverlay && closeOverlayBtn) {
      footerMapTrigger.addEventListener('click', () => {
        mapOverlay.classList.add('active');
        document.body.classList.add('map-full-open');
      });

      const closeOverlay = () => {
        mapOverlay.classList.remove('active');
        document.body.classList.remove('map-full-open');
      };

      closeOverlayBtn.addEventListener('click', closeOverlay);
      mapOverlay.addEventListener('click', (e) => {
        if (e.target === mapOverlay) closeOverlay();
      });

      window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && mapOverlay.classList.contains('active')) {
          closeOverlay();
        }
      });
    }
  </script>
</body>
</html>
